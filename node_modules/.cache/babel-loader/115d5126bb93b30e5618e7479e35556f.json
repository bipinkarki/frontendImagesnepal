{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\web final\\\\t1---frontend-RoshniDahal\\\\src\\\\components\\\\App.js\";\nimport React from \"react\";\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport Home from \"./Home/Home\";\nimport About from \"./About/About\";\nimport Department from \"./Department/Department\";\nimport Blog from \"./Blog/Blog\";\nimport Contact from \"./Contact/Contact\";\nimport Profile from \"./Profile/Profile\";\nimport NavBar from \"./Core-component/NavBar\";\nimport Footer from \"./Core-component/Footer\";\nimport Login from \"./Profile/Login\";\nimport Signup from \"./Profile/Signup\";\nimport Submitted from \"./Submitted/Submitted\";\nimport EditProfile from \"./Profile/EditProfile\";\nimport decode from \"jwt-decode\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst checkAuth = () => {\n  const token = localStorage.getItem(\"token\");\n\n  if (!token) {\n    return false;\n  }\n\n  try {\n    const {\n      exp\n    } = decode(token);\n    console.log(exp);\n\n    if (exp < new Date().getTime() / 1000) {\n      return false;\n    }\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n};\n\nconst AuthRoute = ({\n  component: Component,\n  ...rest\n}) => {\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: props => checkAuth() ? /*#__PURE__*/_jsxDEV(Component, { ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: {\n        pathname: \"/login\" // state: { from: props.location }\n\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n\n_c = AuthRoute;\n\nclass App extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/\",\n              exact: true,\n              component: Home\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/about\",\n              exact: true,\n              component: About\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/department\",\n              exact: true,\n              component: Department\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/blog\",\n              exact: true,\n              component: Blog\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/contact\",\n              exact: true,\n              component: Contact\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AuthRoute, {\n              path: \"/profile\",\n              exact: true,\n              component: Profile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/login\",\n              exact: true,\n              component: Login\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/signup\",\n              exact: true,\n              component: Signup\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/submitted\",\n              exact: true,\n              component: Submitted\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/edit\",\n              exact: true,\n              component: EditProfile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthRoute\");","map":{"version":3,"sources":["C:/Users/user/Desktop/web final/t1---frontend-RoshniDahal/src/components/App.js"],"names":["React","BrowserRouter","Route","Switch","Redirect","Home","About","Department","Blog","Contact","Profile","NavBar","Footer","Login","Signup","Submitted","EditProfile","decode","checkAuth","token","localStorage","getItem","exp","console","log","Date","getTime","e","AuthRoute","component","Component","rest","props","pathname","App","render"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\r\nimport Home from \"./Home/Home\";\r\nimport About from \"./About/About\";\r\nimport Department from \"./Department/Department\";\r\nimport Blog from \"./Blog/Blog\";\r\nimport Contact from \"./Contact/Contact\";\r\nimport Profile from \"./Profile/Profile\";\r\nimport NavBar from \"./Core-component/NavBar\";\r\nimport Footer from \"./Core-component/Footer\";\r\nimport Login from \"./Profile/Login\";\r\nimport Signup from \"./Profile/Signup\";\r\nimport Submitted from \"./Submitted/Submitted\";\r\nimport EditProfile from \"./Profile/EditProfile\";\r\nimport decode from \"jwt-decode\";\r\n\r\nconst checkAuth = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (!token) {\r\n    return false;\r\n  }\r\n  try {\r\n    const { exp } = decode(token);\r\n    console.log(exp);\r\n    if (exp < new Date().getTime() / 1000) {\r\n      return false;\r\n    }\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nconst AuthRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        checkAuth() ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login\"\r\n              // state: { from: props.location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <BrowserRouter>\r\n          <div>\r\n            <div>\r\n              <NavBar />\r\n            </div>\r\n            <Switch>\r\n              <Route path=\"/\" exact component={Home} />\r\n              <Route path=\"/about\" exact component={About} />\r\n              <Route path=\"/department\" exact component={Department} />\r\n              <Route path=\"/blog\" exact component={Blog} />\r\n              <Route path=\"/contact\" exact component={Contact} />\r\n              <AuthRoute path=\"/profile\" exact component={Profile} />\r\n              <Route path=\"/login\" exact component={Login} />\r\n              <Route path=\"/signup\" exact component={Signup} />\r\n              <Route path=\"/submitted\" exact component={Submitted} />\r\n              <Route path=\"/edit\" exact component={EditProfile} />\r\n            </Switch>\r\n            <div>\r\n              <Footer />\r\n            </div>\r\n          </div>\r\n        </BrowserRouter>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}